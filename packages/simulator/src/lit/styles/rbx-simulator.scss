/**
 * RBX Simulator Component Library Styles (SASS Version)
 * 
 * Import this stylesheet to enable custom fonts and styling for the RBX Simulator components.
 * 
 * Usage:
 *   @import '@rbx/simulator/styles/rbx-simulator';
 * 
 * This stylesheet includes:
 * - SF Pro Display font definitions for iOS simulation
 * - SASS variables and mixins
 * - Default font styling for components
 */

// ============================================
// Configuration Variables
// ============================================

// Font paths (can be overridden before importing)
$rbx-font-path: '../assets/fonts/San-Francisco-Pro-Fonts' !default;

// Font families
$font-family-sf-pro: "SF Pro Display", -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !default;
$font-family-android: 'Roboto', 'Segoe UI', system-ui, sans-serif !default;

// iOS System Colors
$ios-blue: #007aff !default;
$ios-gray: #8e8e93 !default;
$ios-gray-2: #aeaeb2 !default;
$ios-gray-3: #c7c7cc !default;
$ios-gray-4: #d1d1d6 !default;
$ios-gray-5: #e5e5ea !default;
$ios-gray-6: #f2f2f7 !default;

// Android Material Colors
$android-primary: #1e40af !default;
$android-primary-light: #3b82f6 !default;
$android-surface: #ffffff !default;
$android-surface-variant: #f3f4f6 !default;
$android-on-surface: #1f2937 !default;
$android-outline: #9ca3af !default;

// Dark Mode Colors
$dark-bg: #030712 !default;
$dark-surface: #27272a !default;
$dark-text: #f3f4f6 !default;

// ============================================
// Font Face Mixins
// ============================================

@mixin sf-pro-font-face($weight, $file-suffix) {
  @font-face {
    font-family: "SF Pro Display";
    src: url('#{$rbx-font-path}/SF-Pro-Display-#{$file-suffix}.otf') format('opentype');
    font-weight: $weight;
    font-style: normal;
    font-display: swap;
  }
}

// ============================================
// Font Face Definitions
// ============================================

@include sf-pro-font-face(100, 'Ultralight');
@include sf-pro-font-face(200, 'Thin');
@include sf-pro-font-face(300, 'Light');
@include sf-pro-font-face(400, 'Regular');
@include sf-pro-font-face(500, 'Medium');
@include sf-pro-font-face(600, 'Semibold');
@include sf-pro-font-face(700, 'Bold');
@include sf-pro-font-face(800, 'Heavy');
@include sf-pro-font-face(900, 'Black');

// ============================================
// CSS Variables (for runtime access)
// ============================================

:root {
  // Font Families
  --font-family-sf-pro-display: #{$font-family-sf-pro};
  --font-family-android: #{$font-family-android};
  
  // iOS System Colors
  --rbx-ios-blue: #{$ios-blue};
  --rbx-ios-gray: #{$ios-gray};
  --rbx-ios-gray-2: #{$ios-gray-2};
  --rbx-ios-gray-3: #{$ios-gray-3};
  --rbx-ios-gray-4: #{$ios-gray-4};
  --rbx-ios-gray-5: #{$ios-gray-5};
  --rbx-ios-gray-6: #{$ios-gray-6};
  
  // Android Material Colors
  --rbx-android-primary: #{$android-primary};
  --rbx-android-primary-light: #{$android-primary-light};
  --rbx-android-surface: #{$android-surface};
  --rbx-android-surface-variant: #{$android-surface-variant};
  --rbx-android-on-surface: #{$android-on-surface};
  --rbx-android-outline: #{$android-outline};
  
  // Dark Mode Colors
  --rbx-dark-bg: #{$dark-bg};
  --rbx-dark-surface: #{$dark-surface};
  --rbx-dark-text: #{$dark-text};
}

// ============================================
// Mixins for Component Styling
// ============================================

@mixin ios-font {
  font-family: $font-family-sf-pro;
  font-family: var(--font-family-sf-pro-display);
}

@mixin android-font {
  font-family: $font-family-android;
  font-family: var(--font-family-android);
}

@mixin platform-fonts {
  &.ios {
    @include ios-font;
  }
  
  &.android {
    @include android-font;
  }
}

// ============================================
// Component Selectors
// ============================================

$rbx-components: (
  'rbx-device',
  'rbx-simulator-app',
  'rbx-text-message',
  'rbx-user-text-message',
  'rbx-standalone-card',
  'rbx-suggestions',
  'rbx-card-content',
  'rbx-chat',
  'rbx-bottom-bar'
);

// Apply platform-specific fonts to all components
@each $component in $rbx-components {
  #{$component} {
    @include platform-fonts;
  }
  
  // Also support nested platform classes
  #{$component} .ios,
  .ios #{$component} {
    @include ios-font;
  }
  
  #{$component} .android,
  .android #{$component} {
    @include android-font;
  }
}

// ============================================
// Utility Classes
// ============================================

.rbx-ios-font {
  @include ios-font;
}

.rbx-android-font {
  @include android-font;
}

// ============================================
// Optional: Component Default Styles
// ============================================

// Ensure components have proper box-sizing
@each $component in $rbx-components {
  #{$component} {
    box-sizing: border-box;
    
    * {
      box-sizing: inherit;
    }
  }
}

// ============================================
// Theme Mixins (optional utilities)
// ============================================

@mixin ios-light-theme {
  background-color: $ios-gray-6;
  color: #000;
}

@mixin ios-dark-theme {
  background-color: $dark-bg;
  color: $dark-text;
}

@mixin android-light-theme {
  background-color: $android-surface;
  color: $android-on-surface;
}

@mixin android-dark-theme {
  background-color: $dark-bg;
  color: $dark-text;
}